<div class="elective-list-header">Lista de Electivos</div>

<div class="elective-filter">
    <form [formGroup]="filterForm">
        <label for="slider-periods">Filtrar por Periodos con Top√≥n:</label>
        <div class="datalist-container">
            <input type="range" id="slider-periodos" min="0" max="3" step="1" formControlName="periods" />
            <span>{{ filterForm.get('periods')?.value }}</span>
        </div>

        <br>
        <label for="filter-modalidad" class="filter-modalidad">Modalidad: </label>
        <select id="filter-modalidad" formControlName="modality">
            <option value="Cualquiera">Cualquiera</option>
            <option value="Presencial">Presencial</option>
            <option value="Remoto-Presencial">Remoto-Presencial</option>
            <option value="Online">Online</option>
        </select>

        <button type="button" (click)="applyFilters()">Buscar</button>
    </form>
</div>

<div class="elective-items-container">
    @if(filteredElectives.size == 0) {
        <p style="color: rgb(80, 15, 15); font-size: 16px; text-align: center; margin: 20px 0;">No se encontraron electivos con estas condiciones.</p>
    }

    @for (elective of filteredElectives.keys(); track $index) {
    <div class="elective-item">
        <p>{{ elective.eleName }}</p>
        <button (click)="selectElective(elective)">Seleccionar</button>
        @if (selectedElectiveDetails && selectedElectiveDetails.eleCode === elective.eleCode && selectedElectiveDetails.eleModule === elective.eleModule) {
            <div class="elective-details">
                <p>Modulo: {{ selectedElectiveDetails.eleModule}}</p>
                <p>Modalidad: {{ selectedElectiveDetails.eleMode }}</p>
                <p>Codigo: {{ selectedElectiveDetails.eleCode }}</p>
            </div>
        }
        
    </div>
    }
</div>